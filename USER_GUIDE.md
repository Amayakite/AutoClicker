# AutoClicker 用户文档

## 简介

AutoClicker 是一款 Android 自动点击应用，支持跨应用自动点击功能。您可以创建多个脚本，每个脚本包含一系列点击点，应用会按顺序自动执行点击操作。

## 核心功能

### 1. 多脚本管理
- 创建、编辑、删除多个点击脚本
- 每个脚本可以独立配置启动延迟、循环次数等参数
- 支持脚本启用/禁用切换

### 2. 跨应用点位编辑
- **主要功能**：在使用其他应用时添加点击点
- 点击"编辑"按钮后，会显示透明悬浮窗
- 切换到目标应用，点击屏幕即可添加点位
- 点击坐标会自动保存到当前脚本

### 3. 执行控制悬浮窗
- 运行脚本时自动显示悬浮控制面板
- 实时显示执行状态和进度
- 可拖动到屏幕任意位置
- 支持跨应用显示

### 4. 调试模式
- 在设置中启用"调试模式"
- 执行点击时会在点击位置显示可视化指示器
- 持续显示 1 秒，方便验证点击位置

### 5. 点击点配置
- **坐标**：精确到小数点后 3 位
- **延迟**：每个点击后的等待时间（毫秒）
- **抖动**：随机偏移点击位置，模拟真实操作
- **漂移**：点击位置随时间缓慢移动

## 使用步骤

### 第一步：启用无障碍服务

1. 首次打开应用会提示"无障碍服务未启用"
2. 点击"去设置"按钮
3. 在系统设置中找到"自动点击器"
4. 开启无障碍服务
5. 返回应用

### 第二步：授予悬浮窗权限

1. 点击"编辑"或"运行"时，如果没有权限会提示
2. 点击"去设置"
3. 在"显示在其他应用的上层"中授予权限
4. 返回应用

### 第三步：创建脚本

1. 点击右下角"+"按钮
2. 输入脚本名称和描述（可选）
3. 点击"创建"

### 第四步：添加点击点

#### 方式一：跨应用编辑（推荐）
1. 点击脚本的"编辑"按钮
2. 授予悬浮窗权限（如果还没有）
3. 切换到目标应用
4. 点击屏幕上需要自动点击的位置
5. 每次点击都会自动添加一个点位
6. 完成后点击悬浮控制面板的"完成"按钮

#### 方式二：应用内编辑（备用）
1. 如果没有悬浮窗权限，会提示使用应用内编辑
2. 在应用内的编辑界面中添加点位
3. 可以拖动标记调整位置

### 第五步：配置点击点

1. 在脚本列表中点击脚本展开详情
2. 点击任意点位进入编辑
3. 配置参数：
   - **名称**：点位的描述名称
   - **延迟**：点击后等待时间（毫秒）
   - **抖动**：启用后会随机偏移 ±5 像素
   - **漂移**：启用后点击位置会缓慢移动
4. 点击"保存"

### 第六步：配置脚本

1. 在编辑界面点击"脚本配置"
2. 设置参数：
   - **启动延迟**：开始执行前的等待时间（毫秒）
   - **循环执行**：是否重复执行
   - **循环次数**：重复次数（0 表示无限循环）
3. 点击"保存"

### 第七步：运行脚本

1. 点击脚本的"运行"按钮
2. 会自动显示执行控制悬浮窗
3. 可以切换到其他应用，脚本会继续执行
4. 悬浮窗实时显示执行进度
5. 点击"停止"按钮可以中止执行

## 全局设置

点击右上角齿轮图标进入设置：

- **震动反馈**：点击时是否震动
- **调试模式**：是否显示点击位置指示器

## 注意事项

### 权限要求
1. **无障碍服务**（必需）：用于模拟点击操作
2. **悬浮窗权限**（推荐）：用于跨应用功能

### 使用限制
- 每个脚本最多 50 个点击点
- 坐标精度为小数点后 3 位
- 最低支持 Android 7.0 (API 24)

### 最佳实践
1. 使用跨应用编辑器添加点位更准确
2. 启用调试模式验证点击位置
3. 合理设置延迟时间，避免操作过快
4. 使用抖动功能模拟真实操作
5. 测试脚本时先设置较少的循环次数

### 常见问题

**Q: 点击没有反应？**
A: 检查无障碍服务是否已启用，在系统设置中确认服务状态。

**Q: 跨应用编辑器不显示？**
A: 检查是否授予了悬浮窗权限，在设置 > 应用 > 特殊访问权限 > 显示在其他应用的上层。

**Q: 如何停止正在运行的脚本？**
A: 点击悬浮控制面板的"停止"按钮，或在应用内点击"运行"按钮切换状态。

**Q: 调试模式的指示器不显示？**
A: 确保已在设置中启用调试模式，并且授予了悬浮窗权限。

**Q: 可以在后台运行吗？**
A: 可以，执行时会显示前台服务通知，确保应用不会被系统杀死。

## 技术支持

如遇到问题，请检查：
1. 无障碍服务是否启用
2. 悬浮窗权限是否授予
3. 应用是否有最新版本
4. 使用 `adb logcat` 查看日志（开发者）

## 更新日志

### v2.0.0
- ✨ 新增跨应用点位编辑功能
- ✨ 新增执行控制悬浮窗
- ✨ 新增调试模式可视化
- 🔧 优化坐标精度（3 位小数）
- 🔧 修复新建脚本按钮位置
- 🔧 修复编辑对话框层级问题
- 🏗️ 重构为统一悬浮窗服务架构
